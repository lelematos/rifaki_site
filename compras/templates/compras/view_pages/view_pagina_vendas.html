{% extends 'teste_rifaki/html/base.html' %}   {% load static %}

{% load crispy_forms_tags %}

{% block head %}
    <link rel="stylesheet" type="text/css" href="{% static 'compras/styles/view_pagina_vendas.css' %}">
    {% comment %} <link rel="stylesheet" type="text/css" href="{% static 'compras/styles/form-style.css' %}"> {% endcomment %}
{% endblock head %}


{% block main %}
{% endblock main %}


{% block content %}
    <div class='uk-position-top-center container-analisador'>
        <div class='row-estatisticas'>
            <div class='contorno-valores'>
                <div class='text-value'>
                    <label class='total-vendidos'>Total de números vendidos: </label>
                </div>
                <div class='value'>
                    <label class='total-vendidos-value'>{{controlador_vendas.getNumeroDeVendidos}}</label>
                </div>                
            </div>

            <div class='contorno-valores'>
                <div class='text-value'>
                    <label class='ainda-pra-vender'>Total de números ainda disponíveis: </label>
                </div>      
                <div class='value'>
                    <label class='ainda-pra-vender-value'>{{controlador_vendas.getNumeroDeRestantes}}</label>
                </div>            
            </div>                

            <div class='contorno-valores'>
                <div class='text-value'>
                    <label class='procetagem-vendas'>Porcentagem de vendas: </label>
                </div>          
                <div class='value'>
                    <label class='procetagem-vendas-value'>{{controlador_vendas.getPorcentagemDeVendas}}%</label>
                </div>       
            </div>

            <div class='contorno-valores'>
                <div class='text-value'>
                    <label class='valor-arrecadado'>Valor arrecadado: </label>
                </div>     
                <div class='value'>
                    <label class='valor-arrecadado-value'>R${{controlador_vendas.getValorArrecadado}}</label>
                </div>             
            </div>
        </div>

        <div class='infos-gerais'>
            <div class='container-recursos'>
                <div class='titulo-box'>
                    <label class='titulo'> Números vendidos </label>
                </div>

                <div class='content-box'>
                {% for numero in controlador_vendas.getNumerosDoCarrinho %}
                    <div class='row-info'>
                        <label class='numeros'>{{numero.numero_escolhido}}</label>
                        <label class='compradores'>{{numero.comprador.username}}  </label>
                    </div>
                {% endfor %}
                </div>                
            </div>
        
            <div class='container-recursos'>
                <div class='titulo-box'>
                    <label class='titulo'> Registrar venda </label>
                </div>

                <div class='content-box'>
                    <div class='row-info'>

                        <form method='post' class='form-group form-block'>
                            {% csrf_token %}
                            {{ form|crispy }}
                            <button type='submit' class='black-button'>Registrar</button>
                        </form>
                    </div>
                </div>                
            </div>

            <div class='container-recursos'>
                <div class='titulo-box'>
                    <label class='titulo'> Registrar venda </label>
                </div>

                <div class='content-box'>
                    <div class='row-info'>
                        <input placeholder="Selecione o numero que deseja registrar">
                    </div>
                </div>                
            </div>

        </div>
    </div>
{% endblock  %}


{% block footer %}
        
{% endblock footer %}



{% block script %}
    <script>
        var input_numero_vendido = document.querySelector('#id_numero_vendido');
        input_numero_vendido.setAttribute('type','');
    </script>
{% endblock script %}
